<div>
    <div class="cm-search-card">
        <self-insert-key-value @insert="onInserted"/>
    </div>

    <div class="cm-content-card">
        <Table
                :disablePagination="true"
            :data="listData"
            :loading="tableLoading"
        >
            <el-table-column prop="k" label="名称"/>
            <el-table-column prop="v" label="值"/>
            <el-table-column prop="des" label="描述" />
            <el-table-column label="操作">
                <template slot-scope="scope">
                    <cmIce-dropdown
                            triggerType="click"
                            style="display:inline-block">
                         <el-button type="text" @click="itemUpdate(scope.row)">修改</el-button>
                    </cmIce-dropdown>
                    <el-popconfirm title="是否删除" @onConfirm="itemDelete(scope.row)">
                        <el-button style="margin-left:1rem" slot="reference" type="text">删除</el-button>
                    </el-popconfirm>
                </template>
            </el-table-column>
        </Table>
    </div>
    <el-dialog :visible.sync="updateShow" :title="updateDate&&updateDate.k">
            <self-insert-key-value
                @update="updateCompleted"
                v-if="updateShow" :is-update="true" :update-data="updateDate"/>
    </el-dialog>
</div>